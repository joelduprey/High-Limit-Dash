<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>High Limit Dash Starting Order</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 20px;
            background-color: #111;
            color: #fff;
        }
        h1 {
            text-align: center;
            color: #ffcc00;
        }
        .driver-input {
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .driver-input label {
            flex: 1 0 100%;
            font-weight: bold;
            margin-bottom: 4px;
        }
        .driver-input input {
            flex: 1 0 calc(33.33% - 10px);
            padding: 8px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
        }
        .driver-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        .driver-box {
            flex: 1 0 48%;
            background-color: #222;
            padding: 10px;
            margin: 10px 0;
            border-radius: 8px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 25px;
        }
        th, td {
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #444;
        }
        td {
            background-color: #222;
        }
        .question-box {
            margin-top: 30px;
        }
        .question-box label {
            font-weight: bold;
        }
        .question-box input {
            width: 100%;
            padding: 10px;
            margin-top: 8px;
            font-size: 16px;
            border-radius: 5px;
            border: none;
        }
        @media screen and (max-width: 768px) {
            .driver-box {
                flex: 1 0 100%;
            }
            .driver-input input {
                flex: 1 0 100%;
            }
        }
    </style>
</head>
<body>
    <h1>High Limit Dash Starting Order</h1>

    <div class="driver-container">
        <!-- Driver Inputs -->
        <div class="driver-box">
            <div class="driver-input">
                <label for="driver1">Driver 1</label>
                <input type="text" id="driver1" placeholder="Name">
                <input type="text" id="qualify1" placeholder="Qualifying Time">
                <input type="text" id="spin1" placeholder="Spin (00,0-9)" oninput="updateGrid()">
            </div>
            <div class="driver-input">
                <label for="driver2">Driver 2</label>
                <input type="text" id="driver2" placeholder="Name">
                <input type="text" id="qualify2" placeholder="Qualifying Time">
                <input type="text" id="spin2" placeholder="Spin (00,0-9)" oninput="updateGrid()">
            </div>
            <div class="driver-input">
                <label for="driver3">Driver 3</label>
                <input type="text" id="driver3" placeholder="Name">
                <input type="text" id="qualify3" placeholder="Qualifying Time">
                <input type="text" id="spin3" placeholder="Spin (00,0-9)" oninput="updateGrid()">
            </div>
            <div class="driver-input">
                <label for="driver4">Driver 4</label>
                <input type="text" id="driver4" placeholder="Name">
                <input type="text" id="qualify4" placeholder="Qualifying Time">
                <input type="text" id="spin4" placeholder="Spin (00,0-9)" oninput="updateGrid()">
            </div>
        </div>

        <div class="driver-box">
            <div class="driver-input">
                <label for="driver5">Driver 5</label>
                <input type="text" id="driver5" placeholder="Name">
                <input type="text" id="qualify5" placeholder="Qualifying Time">
                <input type="text" id="spin5" placeholder="Spin (00,0-9)" oninput="updateGrid()">
            </div>
            <div class="driver-input">
                <label for="driver6">Driver 6</label>
                <input type="text" id="driver6" placeholder="Name">
                <input type="text" id="qualify6" placeholder="Qualifying Time">
                <input type="text" id="spin6" placeholder="Spin (00,0-9)" oninput="updateGrid()">
            </div>
            <div class="driver-input">
                <label for="driver7">Driver 7</label>
                <input type="text" id="driver7" placeholder="Name">
                <input type="text" id="qualify7" placeholder="Qualifying Time">
                <input type="text" id="spin7" placeholder="Spin (00,0-9)" oninput="updateGrid()">
            </div>
            <div class="driver-input">
                <label for="driver8">Driver 8</label>
                <input type="text" id="driver8" placeholder="Name">
                <input type="text" id="qualify8" placeholder="Qualifying Time">
                <input type="text" id="spin8" placeholder="Spin (00,0-9)" oninput="updateGrid()">
            </div>
        </div>
    </div>

    <div class="question-box">
        <label for="fanQuestion">Fan Question:</label>
        <input type="text" id="fanQuestion" placeholder="Type the fan question here">
    </div>

    <table id="startingOrder">
        <thead>
            <tr>
                <th>Row</th>
                <th>Inside</th>
                <th>Outside</th>
            </tr>
        </thead>
        <tbody id="startingOrderBody">
            <!-- Filled by JS -->
        </tbody>
    </table>

    <script>
        const validSpinValues = ["00", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];

        function updateGrid() {
            const data = [];

            for (let i = 1; i <= 8; i++) {
                const name = document.getElementById('driver' + i).value.trim();
                const spin = document.getElementById('spin' + i).value.trim();

                if (name && validSpinValues.includes(spin)) {
                    const spinValue = spin === "00" ? -1 : parseInt(spin); // Treat "00" as best spin
                    data.push({ name, spin, spinValue });
                }
            }

            // Sort drivers by spinValue ascending
            data.sort((a, b) => a.spinValue - b.spinValue);

            const tbody = document.getElementById('startingOrderBody');
            tbody.innerHTML = '';

            for (let i = 0; i < data.length; i += 2) {
                const rowNum = Math.floor(i / 2) + 1;
                const insideDriver = data[i]?.name || '';
                const outsideDriver = data[i + 1]?.name || '';

                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${rowNum}</td>
                    <td>${insideDriver}</td>
                    <td>${outsideDriver}</td>
                `;
                tbody.appendChild(tr);
            }
        }
    </script>
</body>
</html>
